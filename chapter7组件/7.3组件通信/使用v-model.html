<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>自定义事件使用v-model</title>
    </head>
    <body>
        <div id="app">
            <p>总数：{{total}}</p>
            <my-component  v-model="total"></my-component>
            
        </div>
       
    </body>
    <script src="../../js/vue-dev.js"></script>
    <script>

        Vue.component('my-component',{
            template:'<div>\
                <button @click="handleIncrease">+1</button> \
                <button @click="handleReduce">-1</button> \
                </div>',
            data() {
                return {
                    counter:0
                }
            },
            methods: {
                handleIncrease:function(){
                    this.counter++;
                    //input事件：每输入一个字符都会触发该事件
                    this.$emit('input',this.counter);
                },
                handleReduce:function(){
                    this.counter--;
                    this.$emit('input',this.counter);
                }

            },
        })

        var app= new Vue({
            el:'#app',
            data:{
                total:0
            }  
        })
    </script>
</html>